<div class="wrapper" *ngIf="display">
	<div class="player user-select-none" *ngIf="display">
		<mat-toolbar style="height: inherit;" (click)="displayFullTitle = false;" [class.full-title]="!displayFullTitle">
			<p class="text-break">שלום לכם ילדים וילדות מה המצב חברס רציני מה קורה איתכם קצת יותר</p>
		</mat-toolbar>

		<mat-toolbar class="seekbar title-un-collapse" (click)="displayFullTitle = true;" [class.full-title]="displayFullTitle">
			<a *ngIf="current !== origin" mat-icon-button class="" [routerLink]="['/listen']">
				<mat-icon>menu</mat-icon>
			</a>
			<span [title]="title" class="title">{{ title }}</span>
		</mat-toolbar>

		<mat-toolbar class="seekbar">
			<a *ngIf="current !== origin" mat-icon-button class="title-collapse" [class.full-title]="displayFullTitle" [routerLink]="['/listen']">
				<mat-icon>menu</mat-icon>
			</a>
			<span [title]="title" class="title title-collapse" (click)="displayFullTitle = true;" [class.full-title]="displayFullTitle">{{ title }}</span>
			<span class="spacer title-collapse" [class.full-title]="displayFullTitle"></span>
			
			<button mat-icon-button class="" (click)="nextRate()">
				{{ rate }}x
			</button>
			<!-- Volume -->
			<button *ngIf="mute > 0" mat-icon-button class="mat-icon-rtl-mirror" (click)="unmuteMusic()">
				<mat-icon>volume_off</mat-icon>
			</button>
			<button *ngIf="mute === 0" mat-icon-button  class="mat-icon-rtl-mirror" (click)="muteMusic()">
				<mat-icon>{{ volumeIcon }}</mat-icon>
			</button>
			<mat-slider [disabled]="mute > 0" thumbLabel="true" min="0" max="100" step="1" [value]="volume" (change)="setVolume($event)"></mat-slider>

			<span class="spacer title-un-collapse" [class.title-un-collapse]="displayFullTitle"></span>
			<span class="spacer" [class.full-title]="!displayFullTitle"></span>
			<!-- close -->
			<button mat-icon-button class="" (click)="closePlayer()">
				<mat-icon>close</mat-icon>
			</button>
		</mat-toolbar>

		<mat-toolbar class="seekbar">
			
			<!-- play/pause -->
			<button *ngIf="!playing" mat-icon-button (click)="playMusic()">
				<mat-icon>play_arrow</mat-icon>
			</button>
			<button *ngIf="playing" mat-icon-button class="" (click)="pauseMusic()">
				<mat-icon>pause</mat-icon>
			</button>
			
			<button mat-icon-button class="" (click)="back10Sec()">
				<mat-icon>{{ isRTL ? 'forward_10' : 'replay_10' }}</mat-icon>
			</button>
			<p class="small-seek">{{ formatSeconds(seek) }}&nbsp;</p>
			<mat-slider class="seek" min="0" [max]="duration" step="0.1" [value]="seek" (change)="setSeek($event)"></mat-slider>
			<p class="small-seek">&nbsp;&nbsp;{{ formatSeconds(duration) }}</p>
			<button mat-icon-button class="" (click)="skip10Sec()">
				<mat-icon>{{ isRTL ? 'replay_10' : 'forward_10' }}</mat-icon>
			</button>
		</mat-toolbar>
	</div>
</div>